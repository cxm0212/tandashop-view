{"remainingRequest":"E:\\资料整理cxm\\sihuo项目\\weichat\\tandashop\\tdshop-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\资料整理cxm\\sihuo项目\\weichat\\tandashop\\tdshop-view\\src\\views\\login\\login.vue?vue&type=style&index=0&id=a49090ce&scoped=true&lang=css&","dependencies":[{"path":"E:\\资料整理cxm\\sihuo项目\\weichat\\tandashop\\tdshop-view\\src\\views\\login\\login.vue","mtime":1589442784991},{"path":"E:\\资料整理cxm\\sihuo项目\\weichat\\tandashop\\tdshop-view\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\资料整理cxm\\sihuo项目\\weichat\\tandashop\\tdshop-view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\资料整理cxm\\sihuo项目\\weichat\\tandashop\\tdshop-view\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\资料整理cxm\\sihuo项目\\weichat\\tandashop\\tdshop-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\资料整理cxm\\sihuo项目\\weichat\\tandashop\\tdshop-view\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5jZW50ZXIgew0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQp9DQouYW50LWxheW91dCB7DQogIGZvbnQtZmFtaWx5OiBBcmlhbCwgIlBpbmdGYW5nIFNDIiwgIk1pY3Jvc29mdCBZYUhlaSI7DQp9DQouYW50LWxheW91dC1jb250ZW50IHsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogMTAwJTsNCiAgYmFja2dyb3VuZDogdXJsKCIuLi8uLi9hc3NldHMvaW1hZ2VzL2xvZ2luLWJnLmpwZyIpIG5vLXJlcGVhdCBmaXhlZDsNCiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsNCiAgcGFkZGluZzogMTMlIDM0JSAxMiUgMzQlOw0KfQ0KLmZvcm0taGVhZGVyIGxhYmVsIHsNCiAgZm9udC1zaXplOiAyMHB4Ow0KICBmb250LXdlaWdodDogNjAwOw0KfQ0KLmZvcm0taGVhZGVyIGltZyB7DQogIHdpZHRoOiAzMHB4Ow0KICBoZWlnaHQ6IDMwcHg7DQp9DQoubG9naW4tZm9ybSB7DQogIG1heC13aWR0aDogNDAwcHg7DQogIHdpZHRoOiA0MDBweDsNCiAgYmFja2dyb3VuZDogI2ZmZmZmZjsNCiAgYm9yZGVyOiAjZThlOGVlIHNvbGlkIDFweDsNCiAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICBwYWRkaW5nOiAzMHB4Ow0KfQ0KLmxvZ2luLWZvcm0tZm9yZ290IHsNCiAgZmxvYXQ6IHJpZ2h0Ow0KfQ0KLmxvZ2luLWZvcm0tYnV0dG9uIHsNCiAgd2lkdGg6IDEwMCU7DQp9DQoubG9naW4tZm9ybSAuY29kZWlucHV0ew0KICAgIHdpZHRoOjE1MHB4Ow0KICAgIGZsb2F0OiBsZWZ0Ow0KfQ0KLmxvZ2luLWZvcm0gLmNvZGV7DQogICAgd2lkdGg6IDE1MHB4Ow0KICAgIGhlaWdodDogNTBweDsNCn0NCg=="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\r\n  <a-layout class>\r\n    <a-layout-content>\r\n      <div class=\"form-header\">\r\n        <img src=\"../../assets/logo.png\" />\r\n        <label>后台管理</label>\r\n      </div>\r\n      <a-form  :form=\"form\"  id=\"form-login\" class=\"login-form center\" @submit=\"handleSubmit\"> \r\n        <a-form-item>\r\n          <a-input \r\n            placeholder=\"登录名\" \r\n            v-decorator=\"[\r\n            'loginName',\r\n            { rules: [{ required: true, message: 'Please input your username!' }] },\r\n            ]\"\r\n          >\r\n            <a-icon slot=\"prefix\" type=\"user\" style=\"color: rgba(0,0,0,.25)\" />\r\n          </a-input>\r\n        </a-form-item>\r\n        <a-form-item>\r\n          <a-input type=\"password\"  placeholder=\"密码\" name=\"loginPassword\" v-decorator=\"[\r\n          'loginPassword',\r\n          { rules: [{ required: true, message: 'Please input your Password!' }] },\r\n        ]\">\r\n            <a-icon slot=\"prefix\" type=\"lock\" style=\"color: rgba(0,0,0,.25)\" />\r\n          </a-input>\r\n        </a-form-item>\r\n        <a-form-item>\r\n            <a-input class=\"codeinput\" placeholder=\"请输入验证码\" name=\"codeInputValue\" v-decorator=\"[\r\n          'codeInputValue',\r\n          { rules: [{ required: true, message: '验证码不能为空!'}] },\r\n        ]\">\r\n            </a-input>\r\n            <img :src=\"codeUrl\" class=\"code\">\r\n        </a-form-item>\r\n        <a-form-item>\r\n          <a class=\"login-form-forgot\" href>Forgot password</a>\r\n          <a-button type=\"primary\" html-type=\"submit\" class=\"login-form-button\">登陆</a-button>\r\n        </a-form-item>\r\n      </a-form>\r\n    </a-layout-content>\r\n    <a-layout-footer>公众号课程管理</a-layout-footer>\r\n  </a-layout>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport httpApi from '../../api/http.js';\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n        codeUrl:'../../assets/logo.png',\r\n        codeText:'',\r\n        \r\n    };\r\n  },\r\n  beforeCreate() {\r\n    this.form = this.$form.createForm(this, { name: 'normal_login' });\r\n    \r\n  },\r\n  methods: {\r\n    handleSubmit(e) {\r\n      e.preventDefault();\r\n      this.form.validateFields((err, values) => {\r\n        if (!err) {\r\n            if(this.codeText.toLowerCase()!==values.codeInputValue.toLowerCase()){\r\n                this.$message.error('验证码错误!');\r\n                this.getcode();\r\n                return;\r\n            }\r\n            values.codeText = this.codeText;\r\n            console.log('Received values of form: ', values);\r\n            axios.post(httpApi.loginUrl,values).then((result) => {\r\n                console.log(result)\r\n                let datas = result.data;\r\n                if(datas.status===1000){\r\n                    this.$message.error(datas.msg);\r\n                    this.getcode();\r\n                    return;\r\n                }\r\n                this.$router.push({name:'home'})\r\n            }).catch((err) => {\r\n                console.log(\"登陆异常 : \"+err)\r\n            });\r\n        }\r\n      });\r\n    },\r\n    getcode(){\r\n        axios.get(httpApi.getCodeUrl).then((result) => {\r\n            this.codeUrl = result.data.code;\r\n            this.codeText = result.data.codeText;\r\n        }).catch((err) => {\r\n            console.log(err)\r\n        });\r\n    }\r\n  },\r\n  mounted(){\r\n      this.getcode();\r\n      this.$form.setFieldsValue({loginName:\"admin\",loginPassword:\"admin\"})\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.center {\r\n  text-align: center;\r\n}\r\n.ant-layout {\r\n  font-family: Arial, \"PingFang SC\", \"Microsoft YaHei\";\r\n}\r\n.ant-layout-content {\r\n  width: 100%;\r\n  height: 100%;\r\n  background: url(\"../../assets/images/login-bg.jpg\") no-repeat fixed;\r\n  background-size: cover;\r\n  padding: 13% 34% 12% 34%;\r\n}\r\n.form-header label {\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n}\r\n.form-header img {\r\n  width: 30px;\r\n  height: 30px;\r\n}\r\n.login-form {\r\n  max-width: 400px;\r\n  width: 400px;\r\n  background: #ffffff;\r\n  border: #e8e8ee solid 1px;\r\n  border-radius: 4px;\r\n  padding: 30px;\r\n}\r\n.login-form-forgot {\r\n  float: right;\r\n}\r\n.login-form-button {\r\n  width: 100%;\r\n}\r\n.login-form .codeinput{\r\n    width:150px;\r\n    float: left;\r\n}\r\n.login-form .code{\r\n    width: 150px;\r\n    height: 50px;\r\n}\r\n</style>"]}]}